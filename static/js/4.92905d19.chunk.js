"use strict";(self.webpackChunknpm_explorer=self.webpackChunknpm_explorer||[]).push([[4],{9896:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(9893),o=t(8263),i=t(4178),c=t(4045);function s(e,n){return(0,c.Z)((0,c.Z)({},e),n)}function a(){return{data:void 0,error:void 0,completed:!1}}function u(e){var n,t=(0,o.useState)(e),c=(0,r.Z)(t,2),u=c[0],l=c[1],f=(n=a,(0,o.useReducer)(s,null,n)),d=(0,r.Z)(f,2),v=d[0],p=d[1];return(0,i.q)((function(){if(u){var e=u.subscribe({next:function(e){p({data:e})},error:function(e){p({error:e})},complete:function(){p({completed:!0})}});return function(){p({data:void 0,error:void 0,completed:!1}),e.unsubscribe()}}}),[u,p]),[v,l]}},9106:function(e,n,t){t.d(n,{Hz:function(){return V},tu:function(){return E},fp:function(){return O}});var r=t(3863),o=t(9893),i=t(5257),c=t(8913),s=t(183),a=t(2464),u=t(6184),l=t(3765),f=t(5599),d=t(3803),v=t(4783),p=t(7679),m=t.n(p),h=function(e){var n=e.lastIndexOf("@");return{packageName:e.substring(0,n),packageVersionRange:e.substring(n+1).replace(/,/g,"")}};function x(e,n){for(var t=e.split("."),r=n.split("."),o=0;o<3;o++){var i=Number(t[o]),c=Number(r[o]);if(i>c)return 1;if(c>i)return-1;if(!isNaN(i)&&isNaN(c))return 1;if(isNaN(i)&&!isNaN(c))return-1}return 0}var g=t(7911),Z=t(5789),j=t(6614),b={};function k(e){return Boolean(e.versions)}var y=function(e){var n=b[e];return n||(n=b[e]=(0,g.U)("".concat("https://npm-proxy.glitch.me/registry/").concat(e)).pipe((0,a.z)((function(e){return e.json()})),(0,Z.x)((function(){delete b[e]})),(0,j.B)())),n},w=t(5150),C=t(5379),N="latest",R=function(e){var n=new Set;if(null==e)return n;for(var t=0,r=Object.entries(e);t<r.length;t++){var i=(0,o.Z)(r[t],2),c=i[0],s=i[1];n.add("".concat(c,"@").concat(s))}return n},I=function(e,n){return(0,i.of)("".concat(e).concat(n?"":"/".concat(N))).pipe((0,a.z)(y),(0,u.X)({count:2,resetOnSuccess:!0}))},S=function(e,n){return I(e,n).pipe((0,l.U)(function(e,n){return function(t){if(k(t)){if(n){var r=m()(Object.keys(t.versions),n);if(r)return R(t.versions[r].dependencies);console.warn("no such version ".concat(n," for ").concat(e,", use latest tag"))}var o=t["dist-tags"].latest,i=t.versions[o];return i?R(i.dependencies):(console.warn("no latest version for ".concat(e)),new Set)}return R(t.dependencies)}}(e,n)),(0,a.z)((function(e){return(0,c.D)(e)})))},V=function(e,n,t,o){return S(e,o).pipe(function(e,n,t){var r=new Set;return(0,C.j)((function(n){return r.has(n)?w.E:(r.add(n),e(n))}),n,t)}((function(e){var n=h(e),t=n.packageName,r=n.packageVersionRange;return S(t,r)}),t),(0,a.z)((function(e){var t=h(e),r=t.packageName,o=t.packageVersionRange;return n?I(r,o).pipe((0,l.U)(function(e,n){return function(t){if(k(t)){var r=m()(Object.keys(t.versions),n)||n;return"".concat(e,"@").concat(r)}return"".concat(e,"@").concat(n)}}(r,o))):(0,i.of)(r)}),t),(0,f.E)(),(0,d.q)(1e3),(0,v.R)((function(e,n){return[].concat((0,r.Z)(e),[n])}),[]),(0,l.U)((function(e){return e.sort()})))},E=function(e){return I(e,"all").pipe((0,l.U)((function(e){if(k(e))return{versions:Object.keys(e.versions).sort(x),latest:e["dist-tags"].latest};throw new Error("couldn't find all versions package.json")})))},O=function(e){return(0,s.z)(E(e))}},4:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(4552),o=t(9893),i=t(4161),c=t(5234),s=t(8591),a=t(5492),u=t(8263),l=t(3915),f=t(7122),d=t(3233),v=t(1102),p=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){return e.search.concurrency})),t=(0,u.useCallback)((function(n){e(d.RR.setConcurrency(Number(n.target.value)))}),[e]);return(0,v.jsx)(f.Z,{margin:"normal",sx:{minWidth:100,marginRight:"16px"},label:"Concurrency",type:"number",value:n,onChange:t,inputProps:{min:1,max:10,style:{textAlign:"center"}}})},m=(0,u.memo)(p),h=t(4045),x=t(7642),g=t(3287),Z=t(4970),j=t(5471),b=t(1466),k=t(7296),y=t(3974),w=t(7198),C=function(e){(0,j.Z)(t,e);var n=(0,b.Z)(t);function t(){var e;(0,x.Z)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).shouldComponentUpdate=w.OR.bind((0,Z.Z)(e)),e}return(0,g.Z)(t,[{key:"render",value:function(){var e,n=this.props,t=n.data,r=n.index,o=n.style,i=null!==(e=t.at(r))&&void 0!==e?e:"";return(0,v.jsx)(k.Z,{title:i,children:(0,v.jsx)("div",{className:"text-center",style:(0,h.Z)((0,h.Z)({},o),{},{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),children:i})})}}]),t}(u.Component);function N(e,n){return n[e]}var R=function(e){var n=e.data,t=(0,l.v9)((function(e){return e.search.filter})),r=""===t?n:n.filter((function(e){return e.includes(t)}));return(0,v.jsx)("div",{className:"flex-grow-1 flex-shrink-1 align-self-stretch",children:(0,v.jsx)(y.Z,{children:function(e){var n=e.height,t=e.width;return(0,v.jsx)(w.t7,{width:t,height:n,itemCount:r.length,itemSize:30,itemData:r,itemKey:N,children:C})}})})},I=function(){var e=(0,l.I0)(),n=(0,l.v9)((function(e){return e.search.filter})),t=(0,u.useCallback)((function(n){e(d.RR.setFilter(n.target.value))}),[e]);return(0,u.useEffect)((function(){return function(){e(d.RR.setFilter(""))}}),[e]),(0,v.jsx)(f.Z,{margin:"normal",fullWidth:!0,label:"Filter",value:n,onChange:t,inputProps:{style:{textAlign:"center"}}})},S=(0,u.memo)(I),V=t(9896),E=t(9106);var O=function(e){var n=e.packageName,t=(0,u.useState)(!0),f=(0,o.Z)(t,2),d=f[0],p=f[1],h=(0,u.useCallback)((function(){p((function(e){return!e}))}),[]),x=(0,l.v9)((function(e){return e.search.version})),g=function(e,n){var t=(0,l.v9)((function(e){return e.search.concurrency})),r=(0,l.v9)((function(e){return e.search.version})),i=(0,V.Z)(),c=(0,o.Z)(i,2),s=c[0],a=c[1];return(0,u.useEffect)((function(){null!=r&&a((0,E.Hz)(e,n,t,r))}),[r,a,e,n,t]),{dependencies:s}}(n,d),Z=g.dependencies,j=Z.data,b=Z.error,k=Z.completed;return b?(console.error(b),(0,v.jsxs)("div",{children:["Error: ",b.message]})):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.Z,{row:!0,sx:{alignItems:"center",justifyContent:"center"},children:[(0,v.jsx)(s.Z,{control:(0,v.jsx)(i.Z,{checked:d,onChange:h,value:"showDifferentVersion",color:"primary"}),label:"Show Different Version"}),(0,v.jsx)(m,{})]}),j&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:["Found ",j.length," dependencies for"," ","".concat(n,"@").concat(null!==x&&void 0!==x?x:""),!k&&(0,v.jsx)(c.Z,{sx:{marginLeft:1,height:"unset !important"},className:"my-2"})]}),(0,v.jsx)(S,{}),(0,v.jsx)(R,{data:j})]}),k&&!j&&(0,v.jsx)("div",{children:"No dependencies"})]})},z=(0,u.memo)(O),U=t(5525),D=t(107),F=t(2710),P=t(6932),A=t(7059),L=t(3680),T=["children","selectedIndex"];function W(e){var n=e.data,t=e.index,r=e.style,o=n[t],i=(0,h.Z)((0,h.Z)({},r),{},{top:r.top+8});return o.hasOwnProperty("group")?(0,v.jsx)(F.Z,{component:"div",style:i,children:o.group},o.key):(0,v.jsx)(P.Z,(0,h.Z)((0,h.Z)({component:"li"},o[0]),{},{noWrap:!0,style:i,children:o[1].label}))}var q=u.createContext({}),B=u.forwardRef((function(e,n){var t=u.useContext(q);return(0,v.jsx)("div",(0,h.Z)((0,h.Z)({ref:n},e),t))})),H=function(e,n){var t=e.children,r=e.selectedIndex,o=(0,D.Z)(e,T),i=[];t.forEach((function(e){i.push(e)}));var c=(0,A.Z)(),s=(0,L.Z)(c.breakpoints.up("sm"),{noSsr:!0}),a=i.length,u=s?36:48,l=a>8?8*u:a*u+16;return(0,v.jsx)("div",{ref:n,children:(0,v.jsx)(q.Provider,{value:o,children:(0,v.jsx)(w.t7,{itemData:i,height:l,width:"100%",outerElementType:B,innerElementType:"ul",itemSize:u,overscanCount:5,itemCount:a,initialScrollOffset:r*u,children:W})})})},_=u.forwardRef(H),G=function(e){var n=e.versionsCompleted,t=e.versionsData,o=e.selectedVersion,i=e.setSelectedVersion,c=e.selectedIndex,s=(0,u.useCallback)((function(e,n){null!==n&&i(n)}),[i]),a=(0,u.useCallback)((function(e){return(0,v.jsx)(f.Z,(0,h.Z)((0,h.Z)({},e),{},{label:"Version"}))}),[]);return n&&t?(0,v.jsx)(r.Z,{color:"black",sx:{width:"100%"},children:(0,v.jsx)(U.Z,{options:t.options,onChange:s,value:o,renderInput:a,ListboxComponent:_,ListboxProps:{selectedIndex:c},renderOption:function(e,n){return[e,n]}})}):null},K=(0,u.memo)(G),M=t(3765);var X=function(e){var n=function(e){var n=(0,l.I0)(),t=(0,u.useState)(),r=(0,o.Z)(t,2),i=r[0],c=r[1],s=(0,V.Z)(),a=(0,o.Z)(s,2),f=a[0],v=a[1];(0,u.useEffect)((function(){v((0,E.tu)(e).pipe((0,M.U)((function(e){return function(e){return{latest:e.latest,options:e.versions.map((function(e){return{label:e,value:e}}))}}(e)}))))}),[e,v]),(0,u.useEffect)((function(){if(f.completed&&f.data){var e=f.data.latest,n=f.data.options.find((function(n){return n.value===e}));c(n)}}),[f]);var p=(0,u.useMemo)((function(){var e,n=null===(e=f.data)||void 0===e?void 0:e.options;return null==n||null==i?-1:n.indexOf(i)}),[f.data,i]);return(0,u.useEffect)((function(){null!=i&&n(d.RR.setVersion(i.value))}),[n,i]),(0,u.useEffect)((function(){return function(){n(d.RR.setVersion(null))}}),[n]),{versions:f,selectedVersion:i,setSelectedVersion:c,selectedIndex:p}}(e.packageName),t=n.versions,r=n.selectedVersion,i=n.setSelectedVersion,c=n.selectedIndex,s=t.data,a=t.error,f=t.completed;return a?(console.error(a),(0,v.jsxs)("div",{children:["Error: ",a.message]})):null==r?null:(0,v.jsx)(K,{versionsCompleted:f,versionsData:s,selectedVersion:r,setSelectedVersion:i,selectedIndex:c})},J=(0,u.memo)(X),Q=t(5977),Y=t(9159),$=function(){var e=(0,Y.UO)().packageName,n=void 0===e?"":e,t=decodeURIComponent(n);return function(e){var n=(0,l.I0)();(0,u.useEffect)((function(){n(Q.gg.setTitle(e))}),[n,e])}(t),(0,v.jsxs)(r.Z,{sx:{flexGrow:1,display:"flex",flexFlow:"column",alignItems:"center"},children:[(0,v.jsx)("h2",{children:t}),(0,v.jsx)(J,{packageName:n}),(0,v.jsx)(z,{packageName:n})]})},ee=(0,u.memo)($)}}]);
//# sourceMappingURL=4.92905d19.chunk.js.map