{"version":3,"file":"static/js/768.4d076dba.chunk.js","mappings":"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","sources":["hooks/helpers/useStateSimple.ts","hooks/helpers/useObservable.ts","utils/getPackageInfo.ts","utils/semverCompare.ts","observables/fetchPackage.ts","observables/operators/distinctExpand.ts","observables/getDependencies.ts","components/dependency/ConcurrencyInput.tsx","components/dependency/DependenciesList.tsx","components/dependency/FilterInput.tsx","components/dependency/Dependency.tsx","components/dependency/useDependency.ts","components/dependency/index.ts","components/version/ReactWindowAutoComplete.tsx","components/version/VersionSelect.tsx","components/version/Version.tsx","components/version/useVersion.ts","components/version/index.ts","views/Package.tsx","hooks/useUpdateTitle.ts"],"sourcesContent":["import { useReducer } from \"react\";\n\n/*\nthis is a helper hook that act similar to setState in React\n*/\n\nfunction reducer<T>(currentState: T, newState: Partial<T>) {\n  return {\n    ...currentState,\n    ...newState,\n  };\n}\n\nexport default function useStateSimple<T>(initialState: () => T) {\n  return useReducer<React.Reducer<T, Partial<T>>, null>(\n    reducer,\n    null,\n    initialState,\n  );\n}\n","import { useState } from \"react\";\nimport type { Observable } from \"rxjs\";\nimport { useEffectOnce } from \"./useEffectOnce\";\nimport useStateSimple from \"./useStateSimple\";\n\n/*\na helper hook to observe an Observable\n*/\n\ninterface ObserverState<ReturnData> {\n  readonly data?: ReturnData;\n  readonly error?: Error;\n  readonly completed: boolean;\n}\n\nfunction getInitialState<ReturnData>(): ObserverState<ReturnData> {\n  return {\n    data: undefined,\n    error: undefined,\n    completed: false,\n  };\n}\n\nexport default function useObservable<ReturnData>(\n  initialObservable?: Observable<ReturnData> | (() => Observable<ReturnData>),\n): [\n  ObserverState<ReturnData>,\n  React.Dispatch<React.SetStateAction<Observable<ReturnData>>>,\n] {\n  const [observable, setObservable] = useState<\n    Observable<ReturnData> | undefined\n  >(initialObservable);\n  const [state, setState] =\n    useStateSimple<ObserverState<ReturnData>>(getInitialState);\n  useEffectOnce(() => {\n    if (!observable) {\n      return;\n    }\n    const subscription = observable.subscribe({\n      next(data) {\n        setState({ data });\n      },\n      error(error: Error) {\n        setState({ error });\n      },\n      complete() {\n        setState({ completed: true });\n      },\n    });\n    return () => {\n      setState(getInitialState());\n      subscription.unsubscribe();\n    };\n  }, [observable, setState]);\n\n  return [\n    state,\n    setObservable as React.Dispatch<\n      React.SetStateAction<Observable<ReturnData>>\n    >,\n  ];\n}\n","export const getPackageInfo = (packageString: string) => {\n  const lastSeperatorIndex = packageString.lastIndexOf(\"@\");\n  const packageName = packageString.substring(0, lastSeperatorIndex);\n  const packageVersionRange = packageString\n    .substring(lastSeperatorIndex + 1)\n    // remove invalid character \",\" in range\n    .replace(/,/g, \"\");\n  return {\n    packageName,\n    packageVersionRange,\n  };\n};\n","// from semver-compare\nexport function semverCompare(a: string, b: string) {\n  const pa = a.split(\".\");\n  const pb = b.split(\".\");\n  for (let i = 0; i < 3; i++) {\n    const na = Number(pa[i]);\n    const nb = Number(pb[i]);\n    if (na > nb) return 1;\n    if (nb > na) return -1;\n    if (!isNaN(na) && isNaN(nb)) return 1;\n    if (isNaN(na) && !isNaN(nb)) return -1;\n  }\n  return 0;\n}\n","import type { Observable } from \"rxjs\";\nimport { fromFetch } from \"rxjs/fetch\";\nimport { finalize, mergeMap, share } from \"rxjs/operators\";\n\nconst registryUrl = \"https://registry.npmjs.org/\";\n\ninterface PackageMetaData {\n  name: string;\n  dependencies?: {\n    [key: string]: string;\n  };\n}\n\ninterface AllVersionsPackageMetaData {\n  \"dist-tags\": {\n    [key: string]: string;\n  };\n  versions: {\n    [key: string]: PackageMetaData;\n  };\n}\n\nexport type FetchResult = PackageMetaData | AllVersionsPackageMetaData;\n\nconst registryCache: { [key: string]: Observable<FetchResult> } = {};\n\nexport function isAllVersionPackageMetaData(\n  result: FetchResult,\n): result is AllVersionsPackageMetaData {\n  return Boolean((result as AllVersionsPackageMetaData).versions);\n}\n\n// will get from cache and share the same Observable if still in fetching\nconst fetchPackage = (packageQuery: string): Observable<FetchResult> => {\n  let cache = registryCache[packageQuery];\n  if (!cache) {\n    cache = registryCache[packageQuery] = fromFetch(\n      `${registryUrl}${packageQuery}`,\n    ).pipe(\n      mergeMap((res: Response) => res.json()),\n      finalize(() => {\n        delete registryCache[packageQuery];\n      }),\n      share(),\n    );\n  }\n  return cache;\n};\n\nexport default fetchPackage;\n","import { EMPTY, type ObservableInput, type SchedulerLike } from \"rxjs\";\nimport { expand } from \"rxjs/operators\";\n\n// custom operator that only expand if the value is distinct from previous values\nexport const distinctExpand = <T>(\n  fn: (value: T) => ObservableInput<T>,\n  concurrent?: number,\n  scheduler?: SchedulerLike,\n) => {\n  const set = new Set<T>();\n  return expand(\n    (value: T) => {\n      if (set.has(value)) {\n        return EMPTY;\n      }\n      set.add(value);\n      return fn(value);\n    },\n    concurrent,\n    scheduler,\n  );\n};\n","import { firstValueFrom, from, of } from \"rxjs\";\nimport { distinct, map, mergeMap, retry, scan, take } from \"rxjs/operators\";\nimport maxSatisfying from \"semver/ranges/max-satisfying\";\nimport { getPackageInfo } from \"utils/getPackageInfo\";\nimport { semverCompare } from \"utils/semverCompare\";\nimport fetchPackage, {\n  type FetchResult,\n  isAllVersionPackageMetaData,\n} from \"./fetchPackage\";\nimport { distinctExpand } from \"./operators\";\n\nconst DEPENDENCIES_FIELD = \"dependencies\";\nconst DISTRIBUTION_TAGS = \"dist-tags\";\nconst LATEST_TAG = \"latest\";\n\n// convert dependencies Object to Set with `package@version` format\nconst getDependenciesInSet = (dependencies?: { [key: string]: string }) => {\n  const results = new Set<string>();\n  if (dependencies == null) {\n    return results;\n  }\n  for (const [packageName, packageVersion] of Object.entries(dependencies)) {\n    if (packageVersion.startsWith(\"npm:\")) {\n      const actualData = packageVersion.split(\"npm:\")[1];\n      const [actualPackageName, actualPackageVersion] = actualData.split(\"@\");\n      results.add(`${actualPackageName}@${actualPackageVersion}`);\n      continue;\n    }\n    results.add(`${packageName}@${packageVersion}`);\n  }\n  return results;\n};\n\n// Observable to get package data from registry cache or online registry\nconst retryFetchPackage$ = (\n  packageName: string,\n  packageVersionRange?: string,\n) =>\n  // get all versions if packageVersion exists, if not just get latest\n  of(\n    `${packageName}${\n      // check if packageName has \"/\" eg. @angular/core\n      packageVersionRange ? `` : `/${LATEST_TAG}`\n    }`,\n  ).pipe(\n    mergeMap(fetchPackage),\n    // retry 2 times if fail\n    retry({\n      count: 2,\n      resetOnSuccess: true,\n    }),\n  );\n\n// use semver with packageVersionRange to get the max satisfying version\n// if there is no such version, use latest tag version\n// then use that version to get the correct dependencies\nconst getDependenciesFromFetchResult =\n  (packageName: string, packageVersionRange?: string) =>\n  (packageData: FetchResult) => {\n    if (isAllVersionPackageMetaData(packageData)) {\n      if (packageVersionRange && packageVersionRange !== LATEST_TAG) {\n        const maxVersion = maxSatisfying(\n          Object.keys(packageData.versions),\n          packageVersionRange,\n        );\n        if (maxVersion) {\n          return getDependenciesInSet(\n            packageData.versions[maxVersion][DEPENDENCIES_FIELD],\n          );\n        }\n        // eslint-disable-next-line no-console\n        console.warn(\n          `no such version ${packageVersionRange} for ${packageName}, use latest tag`,\n        );\n      }\n      const latestVersion = packageData[DISTRIBUTION_TAGS][LATEST_TAG];\n      const latestVersionMeta = packageData.versions[latestVersion];\n      if (latestVersionMeta) {\n        return getDependenciesInSet(latestVersionMeta[DEPENDENCIES_FIELD]);\n      }\n      console.warn(`no latest version for ${packageName}`); // eslint-disable-line no-console\n      return new Set<string>();\n    }\n    return getDependenciesInSet(packageData[DEPENDENCIES_FIELD]);\n  };\n\n// Observable that returns all the dependencies for one package in `package@version` format\nconst getDependencies$ = (packageName: string, packageVersionRange?: string) =>\n  retryFetchPackage$(packageName, packageVersionRange).pipe(\n    map(getDependenciesFromFetchResult(packageName, packageVersionRange)),\n    // convert from Set to Stream\n    mergeMap((dependenciesInSet) => from(dependenciesInSet)),\n  );\n\nconst getMaxVersionFromFetchResult =\n  (packageName: string, packageVersionRange: string) =>\n  (packageData: FetchResult) => {\n    if (isAllVersionPackageMetaData(packageData)) {\n      const maxVersion =\n        maxSatisfying(Object.keys(packageData.versions), packageVersionRange) ||\n        packageVersionRange;\n      return `${packageName}@${maxVersion}`;\n    }\n    return `${packageName}@${packageVersionRange}`;\n  };\n\n// Observable that get all dependencies for the package recursively\nexport const getAllDependencies$ = (\n  packageString: string,\n  showDifferentVersion: boolean,\n  concurrency: number,\n  packageVersion?: string,\n) => {\n  return getDependencies$(packageString, packageVersion).pipe(\n    // get the dependencies of dependency, with concurrency\n    distinctExpand((dependency) => {\n      const { packageName, packageVersionRange } = getPackageInfo(dependency);\n      return getDependencies$(packageName, packageVersionRange);\n    }, concurrency),\n    // get the version number based on showDifferentVersion\n    mergeMap((dependency) => {\n      const { packageName, packageVersionRange } = getPackageInfo(dependency);\n      if (!showDifferentVersion) {\n        return of(packageName);\n      }\n      return retryFetchPackage$(packageName, packageVersionRange).pipe(\n        map(getMaxVersionFromFetchResult(packageName, packageVersionRange)),\n      );\n    }, concurrency),\n    // only show distinct value\n    distinct(),\n    // get maximum 1000 packages, one good example is bloater\n    take(1000),\n    scan((acc: string[], value: string) => [...acc, value], []),\n    map((value) => value.sort()),\n  );\n};\n\nexport const getAllVersions$ = (packageString: string) => {\n  return retryFetchPackage$(packageString, \"all\").pipe(\n    map((packageData) => {\n      if (isAllVersionPackageMetaData(packageData)) {\n        return {\n          versions: Object.keys(packageData.versions).sort(semverCompare),\n          latest: packageData[DISTRIBUTION_TAGS][LATEST_TAG],\n        } as PackageVersionInfo;\n      }\n      throw new Error(\"couldn't find all versions package.json\");\n    }),\n  );\n};\n\nexport const getAllVersionsAsync = (packageString: string) => {\n  return firstValueFrom(getAllVersions$(packageString));\n};\n","import TextField from \"@mui/material/TextField\";\nimport { type ChangeEvent, memo, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport type { RootState } from \"store\";\nimport { searchActions } from \"store/slices/search.slice\";\n\nconst ConcurrencyInput = () => {\n  const dispatch = useDispatch();\n  const concurrency = useSelector(\n    (state: RootState) => state.search.concurrency,\n  );\n  const onChangeHandler = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      dispatch(searchActions.setConcurrency(Number(event.target.value)));\n    },\n    [dispatch],\n  );\n  return (\n    <TextField\n      margin=\"normal\"\n      sx={{ minWidth: 100, marginRight: \"16px\" }}\n      label=\"Concurrency\"\n      type=\"number\"\n      value={concurrency}\n      onChange={onChangeHandler}\n      inputProps={{ min: 1, max: 10, style: { textAlign: \"center\" } }}\n    />\n  );\n};\n\nexport default memo(ConcurrencyInput);\n","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport Tooltip from \"@mui/material/Tooltip\";\nimport { Component } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport {\n  FixedSizeList as List,\n  type ListChildComponentProps,\n  shouldComponentUpdate,\n} from \"react-window\";\nimport type { RootState } from \"store\";\n\nclass RowRenderer extends Component<ListChildComponentProps<string[]>> {\n  shouldComponentUpdate = shouldComponentUpdate.bind(this);\n\n  render() {\n    const { data, index, style } = this.props;\n    const dependency = data.at(index) ?? \"\";\n    return (\n      <Tooltip title={dependency}>\n        <div\n          className=\"text-center\"\n          style={{\n            ...style,\n            overflow: \"hidden\",\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n          }}\n        >\n          {dependency}\n        </div>\n      </Tooltip>\n    );\n  }\n}\n\nfunction itemKey(index: number, data: string[]) {\n  return data[index];\n}\n\ninterface Props {\n  data: string[];\n}\n\nconst DependenciesList = ({ data }: Props) => {\n  const filter = useSelector((state: RootState) => state.search.filter);\n  const filteredData =\n    filter === \"\" ? data : data.filter((d) => d.includes(filter));\n  return (\n    <div className=\"flex-grow-1 flex-shrink-1 align-self-stretch\">\n      <AutoSizer>\n        {({ height, width }: { height: number; width: number }) => (\n          <List\n            width={width}\n            height={height}\n            itemCount={filteredData.length}\n            itemSize={30}\n            itemData={filteredData}\n            itemKey={itemKey}\n          >\n            {RowRenderer}\n          </List>\n        )}\n      </AutoSizer>\n    </div>\n  );\n};\n\nexport default DependenciesList;\n","import TextField from \"@mui/material/TextField\";\nimport { memo, useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport type { RootState } from \"store\";\nimport { searchActions } from \"store/slices/search.slice\";\n\nconst FilterInput = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector((state: RootState) => state.search.filter);\n  const onChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      dispatch(searchActions.setFilter(event.target.value));\n    },\n    [dispatch],\n  );\n  useEffect(() => {\n    return () => {\n      dispatch(searchActions.setFilter(\"\"));\n    };\n  }, [dispatch]);\n  return (\n    <TextField\n      margin=\"normal\"\n      fullWidth={true}\n      label=\"Filter\"\n      value={filter}\n      onChange={onChange}\n      inputProps={{\n        style: { textAlign: \"center\" },\n      }}\n    />\n  );\n};\n\nexport default memo(FilterInput);\n","import Box from \"@mui/material/Box\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormGroup from \"@mui/material/FormGroup\";\nimport { memo, useCallback, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport type { RootState } from \"store\";\nimport ConcurrencyInput from \"./ConcurrencyInput\";\nimport DependenciesList from \"./DependenciesList\";\nimport FilterInput from \"./FilterInput\";\nimport useDependency from \"./useDependency\";\n\ninterface Props {\n  packageName: string;\n}\n\nconst Dependency = ({ packageName }: Props) => {\n  const [diffVersion, setDiffVersion] = useState(true);\n  const onChangeHandler = useCallback(() => {\n    setDiffVersion((prevState) => !prevState);\n  }, []);\n\n  const version = useSelector((state: RootState) => state.search.version);\n\n  const { dependencies } = useDependency(packageName, diffVersion);\n  const { data, error, completed } = dependencies;\n  if (error) {\n    console.error(error); // eslint-disable-line no-console\n    return <div>Error: {error.message}</div>;\n  }\n  return (\n    <>\n      <FormGroup row sx={{ alignItems: \"center\", justifyContent: \"center\" }}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={diffVersion}\n              onChange={onChangeHandler}\n              value=\"showDifferentVersion\"\n              color=\"primary\"\n            />\n          }\n          label=\"Show Different Version\"\n        />\n        <ConcurrencyInput />\n      </FormGroup>\n      {data && (\n        <>\n          <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n            Found {data.length} dependencies for{\" \"}\n            {`${packageName}@${version ?? \"\"}`}\n            {!completed && (\n              <CircularProgress\n                sx={{ marginLeft: 1, height: \"unset !important\" }}\n                className=\"my-2\"\n              />\n            )}\n          </Box>\n          <FilterInput />\n          <DependenciesList data={data} />\n        </>\n      )}\n      {completed && !data && <div>No dependencies</div>}\n    </>\n  );\n};\n\nexport default memo(Dependency);\n","import useObservable from \"hooks/helpers/useObservable\";\nimport { getAllDependencies$ } from \"observables/getDependencies\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport type { RootState } from \"store\";\n\nexport default function useDependency(\n  packageName: string,\n  diffVersion: boolean,\n) {\n  const concurrency = useSelector(\n    (state: RootState) => state.search.concurrency,\n  );\n  const version = useSelector((state: RootState) => state.search.version);\n  const [dependencies, setDependencies] = useObservable<string[]>();\n\n  useEffect(() => {\n    if (version == null) return;\n    setDependencies(\n      getAllDependencies$(packageName, diffVersion, concurrency, version),\n    );\n  }, [version, setDependencies, packageName, diffVersion, concurrency]);\n\n  return {\n    dependencies,\n  };\n}\n","import Dependency from \"./Dependency\";\n\nexport default Dependency;\n","/* eslint-disable */\n// copy from https://mui.com/components/autocomplete/#virtualization\n// modified to use FixedSizeList and use custom option\nimport ListSubheader from \"@mui/material/ListSubheader\";\nimport Typography from \"@mui/material/Typography\";\nimport { useTheme } from \"@mui/material/styles\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport React from \"react\";\nimport { FixedSizeList, type ListChildComponentProps } from \"react-window\";\n\nconst LISTBOX_PADDING = 8; // px\n\nfunction renderRow(props: ListChildComponentProps) {\n  const { data, index, style } = props;\n  const dataSet = data[index];\n  const inlineStyle: React.CSSProperties = {\n    ...style,\n    top: (style.top as number) + LISTBOX_PADDING,\n  };\n\n  if (dataSet.hasOwnProperty(\"group\")) {\n    return (\n      <ListSubheader key={dataSet.key} component=\"div\" style={inlineStyle}>\n        {dataSet.group}\n      </ListSubheader>\n    );\n  }\n\n  return (\n    <Typography component=\"li\" {...dataSet[0]} noWrap style={inlineStyle}>\n      {dataSet[1].label}\n    </Typography>\n  );\n}\n\nconst OuterElementContext = React.createContext({});\n\nconst OuterElementType = React.forwardRef<HTMLDivElement>((props, ref) => {\n  const outerProps = React.useContext(OuterElementContext);\n  return <div ref={ref} {...props} {...outerProps} />;\n});\n\ninterface ListboxComponentProps extends React.HTMLAttributes<HTMLElement> {\n  selectedIndex: number;\n}\n\n// Adapter for react-window\nconst ListboxComponent: React.ForwardRefRenderFunction<\n  HTMLDivElement,\n  ListboxComponentProps\n> = (props, ref) => {\n  const { children, selectedIndex, ...other } = props;\n  const itemData: React.ReactNode[] = [];\n  (children as React.ReactNode[]).forEach((item: React.ReactNode) => {\n    itemData.push(item);\n  });\n\n  const theme = useTheme();\n  const smUp = useMediaQuery(theme.breakpoints.up(\"sm\"), {\n    noSsr: true,\n  });\n  const itemCount = itemData.length;\n  const itemSize = smUp ? 36 : 48;\n  const height =\n    itemCount > 8 ? 8 * itemSize : itemCount * itemSize + 2 * LISTBOX_PADDING;\n\n  return (\n    <div ref={ref}>\n      <OuterElementContext.Provider value={other}>\n        <FixedSizeList\n          itemData={itemData}\n          height={height}\n          width=\"100%\"\n          outerElementType={OuterElementType}\n          innerElementType=\"ul\"\n          itemSize={itemSize}\n          overscanCount={5}\n          itemCount={itemCount}\n          initialScrollOffset={selectedIndex * itemSize}\n        >\n          {renderRow}\n        </FixedSizeList>\n      </OuterElementContext.Provider>\n    </div>\n  );\n};\n\nexport default React.forwardRef<HTMLDivElement, ListboxComponentProps>(\n  ListboxComponent,\n);\n","import Autocomplete, {\n  type AutocompleteRenderInputParams,\n} from \"@mui/material/Autocomplete\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport { memo, useCallback } from \"react\";\nimport ListboxComponent from \"./ReactWindowAutoComplete\";\n\ninterface Props {\n  versionsCompleted: boolean;\n  versionsData?: VersionInfoWithOptions;\n  selectedVersion?: OptionType;\n  setSelectedVersion: (version?: OptionType) => void;\n  selectedIndex: number;\n}\n\nconst VersionSelect = ({\n  versionsCompleted,\n  versionsData,\n  selectedVersion,\n  setSelectedVersion,\n  selectedIndex,\n}: Props) => {\n  const onChangeHandler = useCallback(\n    (_event: unknown, option: OptionType | null) => {\n      if (option !== null) {\n        setSelectedVersion(option);\n      }\n    },\n    [setSelectedVersion],\n  );\n  const renderInput = useCallback(\n    (params: AutocompleteRenderInputParams) => (\n      <TextField {...params} label=\"Version\" />\n    ),\n    [],\n  );\n  if (!versionsCompleted || !versionsData) {\n    return null;\n  }\n  return (\n    <Box color=\"black\" sx={{ width: \"100%\" }}>\n      <Autocomplete\n        options={versionsData.options}\n        onChange={onChangeHandler}\n        value={selectedVersion}\n        renderInput={renderInput}\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        ListboxComponent={ListboxComponent}\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        ListboxProps={{ selectedIndex }}\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        renderOption={(props, option) => [props, option]}\n      />\n    </Box>\n  );\n};\n\nexport default memo(VersionSelect);\n","import { memo } from \"react\";\nimport VersionSelect from \"./VersionSelect\";\nimport useVersion from \"./useVersion\";\n\ninterface Props {\n  packageName: string;\n}\n\nconst Version = ({ packageName }: Props) => {\n  const { versions, selectedVersion, setSelectedVersion, selectedIndex } =\n    useVersion(packageName);\n  const { data, error, completed } = versions;\n  if (error) {\n    console.error(error); // eslint-disable-line no-console\n    return <div>Error: {error.message}</div>;\n  }\n  if (selectedVersion == null) return null;\n  return (\n    <VersionSelect\n      {...{\n        versionsCompleted: completed,\n        versionsData: data,\n        selectedVersion,\n        setSelectedVersion,\n        selectedIndex,\n      }}\n    />\n  );\n};\n\nexport default memo(Version);\n","import useObservable from \"hooks/helpers/useObservable\";\nimport { getAllVersions$ } from \"observables/getDependencies\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { map } from \"rxjs/operators\";\nimport { searchActions } from \"store/slices/search.slice\";\n\nfunction convertData(data: PackageVersionInfo): VersionInfoWithOptions {\n  return {\n    latest: data.latest,\n    options: data.versions.map((value) => ({\n      label: value,\n      value,\n    })),\n  };\n}\n\nexport default function useVersion(packageName: string) {\n  const dispatch = useDispatch();\n  const [selectedVersion, setSelectedVersion] = useState<OptionType>();\n  const [versions, setVersions] = useObservable<VersionInfoWithOptions>();\n\n  useEffect(() => {\n    setVersions(\n      getAllVersions$(packageName).pipe(map((data) => convertData(data))),\n    );\n  }, [packageName, setVersions]);\n\n  useEffect(() => {\n    if (versions.completed && versions.data) {\n      const latestVersion = versions.data.latest;\n      const latestOption = versions.data.options.find(\n        (option) => option.value === latestVersion,\n      );\n      setSelectedVersion(latestOption);\n    }\n  }, [versions]);\n\n  const selectedIndex = useMemo(() => {\n    const options = versions.data?.options;\n    return options == null || selectedVersion == null\n      ? -1\n      : options.indexOf(selectedVersion);\n  }, [versions.data, selectedVersion]);\n\n  useEffect(() => {\n    if (selectedVersion != null)\n      dispatch(searchActions.setVersion(selectedVersion.value));\n  }, [dispatch, selectedVersion]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(searchActions.setVersion(null));\n    };\n  }, [dispatch]);\n\n  return {\n    versions,\n    selectedVersion,\n    setSelectedVersion,\n    selectedIndex,\n  };\n}\n","import Version from \"./Version\";\n\nexport default Version;\n","import Box from \"@mui/material/Box\";\nimport Dependency from \"components/dependency\";\nimport Version from \"components/version\";\nimport { useUpdateTitle } from \"hooks/useUpdateTitle\";\nimport { memo } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst Package = () => {\n  const params = useParams<\"packageName\">();\n  const { packageName = \"\" } = params;\n  const decodedPackageName = decodeURIComponent(packageName);\n  useUpdateTitle(decodedPackageName);\n  return (\n    <Box\n      sx={{\n        flexGrow: 1,\n        display: \"flex\",\n        flexFlow: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      <h2>{decodedPackageName}</h2>\n      <Version packageName={packageName} />\n      <Dependency packageName={packageName} />\n    </Box>\n  );\n};\n\nexport default memo(Package);\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { titleActions } from \"store/slices/title.slice\";\n\nexport const useUpdateTitle = (title: string) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(titleActions.setTitle(title));\n  }, [dispatch, title]);\n};\n"],"names":["reducer","currentState","newState","_objectSpread","getInitialState","data","undefined","error","completed","useObservable","initialObservable","observable","setObservable","useState","state","setState","initialState","useReducer","useEffectOnce","subscription","subscribe","next","complete","unsubscribe","getPackageInfo","packageString","lastSeperatorIndex","lastIndexOf","packageName","substring","packageVersionRange","replace","semverCompare","a","b","pa","split","pb","i","na","Number","nb","isNaN","registryCache","isAllVersionPackageMetaData","result","Boolean","versions","packageQuery","cache","fromFetch","concat","pipe","mergeMap","res","json","finalize","share","DEPENDENCIES_FIELD","DISTRIBUTION_TAGS","LATEST_TAG","getDependenciesInSet","dependencies","results","Set","packageVersion","Object","entries","startsWith","actualData","actualPackageName","actualPackageVersion","add","retryFetchPackage$","of","fetchPackage","retry","count","resetOnSuccess","getDependencies$","map","getDependenciesFromFetchResult","packageData","maxVersion","maxSatisfying","keys","console","warn","latestVersion","latestVersionMeta","dependenciesInSet","from","getAllDependencies$","showDifferentVersion","concurrency","distinctExpand","fn","concurrent","scheduler","set","expand","value","has","EMPTY","dependency","getMaxVersionFromFetchResult","distinct","take","scan","acc","sort","getAllVersions$","latest","Error","getAllVersionsAsync","firstValueFrom","ConcurrencyInput","dispatch","useDispatch","useSelector","search","onChangeHandler","useCallback","event","searchActions","setConcurrency","target","_jsx","TextField","margin","sx","minWidth","marginRight","label","type","onChange","inputProps","min","max","style","textAlign","memo","RowRenderer","Component","constructor","arguments","shouldComponentUpdate","bind","this","render","_data$at","index","props","at","Tooltip","title","children","className","overflow","whiteSpace","textOverflow","itemKey","_ref","filter","filteredData","d","includes","AutoSizer","_ref2","height","width","List","itemCount","length","itemSize","itemData","FilterInput","setFilter","useEffect","fullWidth","Dependency","diffVersion","setDiffVersion","prevState","version","setDependencies","useDependency","_jsxs","message","_Fragment","FormGroup","row","alignItems","justifyContent","FormControlLabel","control","Checkbox","checked","color","Box","display","CircularProgress","marginLeft","DependenciesList","renderRow","dataSet","inlineStyle","top","hasOwnProperty","ListSubheader","component","group","key","Typography","noWrap","OuterElementContext","React","OuterElementType","ref","outerProps","ListboxComponent","selectedIndex","other","_objectWithoutProperties","_excluded","forEach","item","push","theme","useTheme","smUp","useMediaQuery","breakpoints","up","noSsr","Provider","FixedSizeList","outerElementType","innerElementType","overscanCount","initialScrollOffset","VersionSelect","versionsCompleted","versionsData","selectedVersion","setSelectedVersion","_event","option","renderInput","params","Autocomplete","options","ListboxProps","renderOption","Version","setVersions","convertData","latestOption","find","useMemo","_versions$data","indexOf","setVersion","useVersion","Package","useParams","decodedPackageName","decodeURIComponent","titleActions","setTitle","useUpdateTitle","flexGrow","flexFlow"],"sourceRoot":""}