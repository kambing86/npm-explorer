"use strict";(self.webpackChunknpm_explorer=self.webpackChunknpm_explorer||[]).push([[768],{724:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(3977),s=n(2994),o=n(9443);function c(e,t){return(0,o.A)((0,o.A)({},e),t)}function a(){return{data:void 0,error:void 0,completed:!1}}function i(e){const[t,n]=(0,r.useState)(e),[o,i]=(l=a,(0,r.useReducer)(c,null,l));var l;return(0,s.S)(()=>{if(!t)return;const e=t.subscribe({next(e){i({data:e})},error(e){i({error:e})},complete(){i({completed:!0})}});return()=>{i({data:void 0,error:void 0,completed:!1}),e.unsubscribe()}},[t,i]),[o,n]}},1008:(e,t,n)=>{n.d(t,{xY:()=>E,v5:()=>I,Fc:()=>F});var r=n(4386),s=n(5467),o=n(4462),c=n(5533),a=n(4957),i=n(4209),l=n(5919),d=n(6056),u=n(4767),p=n(655),f=n.n(p);const m=e=>{const t=e.lastIndexOf("@");return{packageName:e.substring(0,t),packageVersionRange:e.substring(t+1).replace(/,/g,"")}};function h(e,t){const n=e.split("."),r=t.split(".");for(let s=0;s<3;s++){const e=Number(n[s]),t=Number(r[s]);if(e>t)return 1;if(t>e)return-1;if(!isNaN(e)&&isNaN(t))return 1;if(isNaN(e)&&!isNaN(t))return-1}return 0}var x=n(9468),v=n(7133),g=n(9071);const j={};function A(e){return Boolean(e.versions)}const b=e=>{let t=j[e];return t||(t=j[e]=(0,x.$)("".concat("https://registry.npmjs.org/").concat(e)).pipe((0,c.Z)(e=>e.json()),(0,v.j)(()=>{delete j[e]}),(0,g.u)())),t};var w=n(1634),k=n(1519);const y="dependencies",C="dist-tags",N="latest",S=e=>{const t=new Set;if(null==e)return t;for(const[n,r]of Object.entries(e)){if(r.startsWith("npm:")){const e=r.split("npm:")[1],[n,s]=e.split("@");t.add("".concat(n,"@").concat(s));continue}t.add("".concat(n,"@").concat(r))}return t},O=(e,t)=>(0,r.of)("".concat(e).concat(t?"":"/".concat(N))).pipe((0,c.Z)(b),(0,a.L)({count:2,resetOnSuccess:!0})),V=(e,t)=>O(e,t).pipe((0,i.T)(((e,t)=>n=>{if(A(n)){if(t&&t!==N){const r=f()(Object.keys(n.versions),t);if(r)return S(n.versions[r][y]);console.warn("no such version ".concat(t," for ").concat(e,", use latest tag"))}const r=n[C][N],s=n.versions[r];return s?S(s[y]):(console.warn("no latest version for ".concat(e)),new Set)}return S(n[y])})(e,t)),(0,c.Z)(e=>(0,s.H)(e))),E=(e,t,n,s)=>V(e,s).pipe(((e,t,n)=>{const r=new Set;return(0,k.f)(t=>r.has(t)?w.w:(r.add(t),e(t)),t,n)})(e=>{const{packageName:t,packageVersionRange:n}=m(e);return V(t,n)},n),(0,c.Z)(e=>{const{packageName:n,packageVersionRange:s}=m(e);return t?O(n,s).pipe((0,i.T)(((e,t)=>n=>{if(A(n)){const r=f()(Object.keys(n.versions),t)||t;return"".concat(e,"@").concat(r)}return"".concat(e,"@").concat(t)})(n,s))):(0,r.of)(n)},n),(0,l.d)(),(0,d.s)(1e3),(0,u.S)((e,t)=>[...e,t],[]),(0,i.T)(e=>e.sort())),I=e=>O(e,"all").pipe((0,i.T)(e=>{if(A(e))return{versions:Object.keys(e.versions).sort(h),latest:e[C][N]};throw new Error("couldn't find all versions package.json")})),F=e=>(0,o._)(I(e))},9768:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(2566),s=n(7633),o=n(1832),c=n(1840),a=n(6167),i=n(3977),l=n(3450),d=n(4843),u=n(702),p=n(3165);const f=()=>{const e=(0,l.wA)(),t=(0,l.d4)(e=>e.search.concurrency),n=(0,i.useCallback)(t=>{e(u.OG.setConcurrency(Number(t.target.value)))},[e]);return(0,p.jsx)(d.A,{margin:"normal",sx:{minWidth:100,marginRight:"16px"},label:"Concurrency",type:"number",value:t,onChange:n,inputProps:{min:1,max:10,style:{textAlign:"center"}}})},m=(0,i.memo)(f);var h=n(9443),x=n(2628),v=n(8877),g=n(1099);class j extends i.Component{constructor(){super(...arguments),this.shouldComponentUpdate=g.EF.bind(this)}render(){var e;const{data:t,index:n,style:r}=this.props,s=null!==(e=t.at(n))&&void 0!==e?e:"";return(0,p.jsx)(x.A,{title:s,children:(0,p.jsx)("div",{className:"text-center",style:(0,h.A)((0,h.A)({},r),{},{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),children:s})})}}function A(e,t){return t[e]}const b=e=>{let{data:t}=e;const n=(0,l.d4)(e=>e.search.filter),r=""===n?t:t.filter(e=>e.includes(n));return(0,p.jsx)("div",{className:"flex-grow-1 flex-shrink-1 align-self-stretch",children:(0,p.jsx)(v.Ay,{children:e=>{let{height:t,width:n}=e;return(0,p.jsx)(g.Y1,{width:n,height:t,itemCount:r.length,itemSize:30,itemData:r,itemKey:A,children:j})}})})},w=()=>{const e=(0,l.wA)(),t=(0,l.d4)(e=>e.search.filter),n=(0,i.useCallback)(t=>{e(u.OG.setFilter(t.target.value))},[e]);return(0,i.useEffect)(()=>()=>{e(u.OG.setFilter(""))},[e]),(0,p.jsx)(d.A,{margin:"normal",fullWidth:!0,label:"Filter",value:t,onChange:n,inputProps:{style:{textAlign:"center"}}})},k=(0,i.memo)(w);var y=n(724),C=n(1008);const N=e=>{let{packageName:t}=e;const[n,d]=(0,i.useState)(!0),u=(0,i.useCallback)(()=>{d(e=>!e)},[]),f=(0,l.d4)(e=>e.search.version),{dependencies:h}=function(e,t){const n=(0,l.d4)(e=>e.search.concurrency),r=(0,l.d4)(e=>e.search.version),[s,o]=(0,y.A)();return(0,i.useEffect)(()=>{null!=r&&o((0,C.xY)(e,t,n,r))},[r,o,e,t,n]),{dependencies:s}}(t,n),{data:x,error:v,completed:g}=h;return v?(console.error(v),(0,p.jsxs)("div",{children:["Error: ",v.message]})):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.A,{row:!0,sx:{alignItems:"center",justifyContent:"center"},children:[(0,p.jsx)(c.A,{control:(0,p.jsx)(s.A,{checked:n,onChange:u,value:"showDifferentVersion",color:"primary"}),label:"Show Different Version"}),(0,p.jsx)(m,{})]}),x&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:["Found ",x.length," dependencies for"," ","".concat(t,"@").concat(null!==f&&void 0!==f?f:""),!g&&(0,p.jsx)(o.A,{sx:{marginLeft:1,height:"unset !important"},className:"my-2"})]}),(0,p.jsx)(k,{}),(0,p.jsx)(b,{data:x})]}),g&&!x&&(0,p.jsx)("div",{children:"No dependencies"})]})},S=(0,i.memo)(N);var O=n(955),V=n(7301),E=n(9745),I=n(2651),F=n(7303),R=n(8645);const T=["children","selectedIndex"];function D(e){const{data:t,index:n,style:r}=e,s=t[n],o=(0,h.A)((0,h.A)({},r),{},{top:r.top+8});return s.hasOwnProperty("group")?(0,p.jsx)(E.A,{component:"div",style:o,children:s.group},s.key):(0,p.jsx)(I.A,(0,h.A)((0,h.A)({component:"li"},s[0]),{},{noWrap:!0,style:o,children:s[1].label}))}const G=i.createContext({}),P=i.forwardRef((e,t)=>{const n=i.useContext(G);return(0,p.jsx)("div",(0,h.A)((0,h.A)({ref:t},e),n))}),L=(e,t)=>{const{children:n,selectedIndex:r}=e,s=(0,V.A)(e,T),o=[];n.forEach(e=>{o.push(e)});const c=(0,F.A)(),a=(0,R.A)(c.breakpoints.up("sm"),{noSsr:!0}),i=o.length,l=a?36:48,d=i>8?8*l:i*l+16;return(0,p.jsx)("div",{ref:t,children:(0,p.jsx)(G.Provider,{value:s,children:(0,p.jsx)(g.Y1,{itemData:o,height:d,width:"100%",outerElementType:P,innerElementType:"ul",itemSize:l,overscanCount:5,itemCount:i,initialScrollOffset:r*l,children:D})})})},W=i.forwardRef(L),Y=e=>{let{versionsCompleted:t,versionsData:n,selectedVersion:s,setSelectedVersion:o,selectedIndex:c}=e;const a=(0,i.useCallback)((e,t)=>{null!==t&&o(t)},[o]),l=(0,i.useCallback)(e=>(0,p.jsx)(d.A,(0,h.A)((0,h.A)({},e),{},{label:"Version"})),[]);return t&&n?(0,p.jsx)(r.A,{color:"black",sx:{width:"100%"},children:(0,p.jsx)(O.A,{options:n.options,onChange:a,value:s,renderInput:l,ListboxComponent:W,ListboxProps:{selectedIndex:c},renderOption:(e,t)=>[e,t]})}):null},Z=(0,i.memo)(Y);var _=n(4209);const z=e=>{let{packageName:t}=e;const{versions:n,selectedVersion:r,setSelectedVersion:s,selectedIndex:o}=function(e){const t=(0,l.wA)(),[n,r]=(0,i.useState)(),[s,o]=(0,y.A)();(0,i.useEffect)(()=>{o((0,C.v5)(e).pipe((0,_.T)(e=>function(e){return{latest:e.latest,options:e.versions.map(e=>({label:e,value:e}))}}(e))))},[e,o]),(0,i.useEffect)(()=>{if(s.completed&&s.data){const e=s.data.latest,t=s.data.options.find(t=>t.value===e);r(t)}},[s]);const c=(0,i.useMemo)(()=>{var e;const t=null===(e=s.data)||void 0===e?void 0:e.options;return null==t||null==n?-1:t.indexOf(n)},[s.data,n]);return(0,i.useEffect)(()=>{null!=n&&t(u.OG.setVersion(n.value))},[t,n]),(0,i.useEffect)(()=>()=>{t(u.OG.setVersion(null))},[t]),{versions:s,selectedVersion:n,setSelectedVersion:r,selectedIndex:c}}(t),{data:c,error:a,completed:d}=n;return a?(console.error(a),(0,p.jsxs)("div",{children:["Error: ",a.message]})):null==r?null:(0,p.jsx)(Z,{versionsCompleted:d,versionsData:c,selectedVersion:r,setSelectedVersion:s,selectedIndex:o})},M=(0,i.memo)(z);var U=n(9478);var B=n(376);const H=()=>{const e=(0,B.g)(),{packageName:t=""}=e,n=decodeURIComponent(t);return(e=>{const t=(0,l.wA)();(0,i.useEffect)(()=>{t(U.MJ.setTitle(e))},[t,e])})(n),(0,p.jsxs)(r.A,{sx:{flexGrow:1,display:"flex",flexFlow:"column",alignItems:"center"},children:[(0,p.jsx)("h2",{children:n}),(0,p.jsx)(M,{packageName:t}),(0,p.jsx)(S,{packageName:t})]})},J=(0,i.memo)(H)}}]);
//# sourceMappingURL=768.4d076dba.chunk.js.map